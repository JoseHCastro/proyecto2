import{u as b,b as m,d as a,e as t,h as $,w as o,f as e,v as _,j as i,t as r,p as y,m as v,k as f,C as S,D as w,F as E}from"./app-B76GnUuc.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOBbFAJ5.js";import{_ as p}from"./AppFooter-Djt3kvbI.js";import{_ as k,a as C,b as A}from"./CardHeader.vue_vue_type_script_setup_true_lang-Dq5Upse2.js";import{_ as D}from"./CardDescription.vue_vue_type_script_setup_true_lang-lGDYWDx0.js";import{_ as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-DjxaA2R7.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-Dwi3SneU.js";import{_ as z,a as F,b as L,c as N,d as l}from"./SelectItem.vue_vue_type_script_setup_true_lang-DLbxi_Su.js";import{e as h,s as j}from"./useSweetAlert-DaBq0Crb.js";import{A as B}from"./arrow-left-GNPiJD0R.js";import"./useForwardExpose-CHeYsA2k.js";import"./RovingFocusGroup-CuUPH1Jk.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DeNPTS8a.js";import"./VisuallyHidden-DYrpyQUo.js";import"./check-CqY5fnto.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const I={class:"py-12"},G={class:"mx-auto max-w-4xl sm:px-6 lg:px-8"},M={class:"mb-4"},P={class:"rounded-lg border p-4 bg-muted/50"},U={class:"grid grid-cols-2 gap-3 text-sm"},H={class:"ml-2 font-medium"},O={class:"ml-2 font-medium"},R={class:"ml-2 font-medium"},T={class:"ml-2 font-medium"},J={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},Q={key:1,class:"text-sm text-orange-600 dark:text-orange-400"},W={class:"flex items-center space-x-2"},X={class:"flex justify-end gap-3"},_s={__name:"Edit",props:{suscripcion:Object},setup(d){const u=d,n=b({estado:u.suscripcion.estado,renovacion_automatica:u.suscripcion.renovacion_automatica}),g=()=>{n.put(`/suscripciones/${u.suscripcion.id}`,{onSuccess:()=>{j({title:"¡Actualizado!",text:"La suscripción ha sido actualizada correctamente"})},onError:()=>{h({title:"Error",text:"Hubo un problema al actualizar la suscripción"})}})};return(Y,s)=>(f(),m(E,null,[a(t($),{title:"Editar Suscripción"}),a(V,null,{header:o(()=>[...s[2]||(s[2]=[e("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Editar Suscripción ",-1)])]),default:o(()=>[e("div",I,[e("div",G,[e("div",M,[a(t(p),{variant:"ghost",size:"sm","as-child":""},{default:o(()=>[a(t(_),{href:"/suscripciones"},{default:o(()=>[a(t(B),{class:"mr-2 h-4 w-4"}),s[3]||(s[3]=i(" Volver al listado ",-1))]),_:1})]),_:1})]),a(t(k),null,{default:o(()=>[a(t(C),null,{default:o(()=>[a(t(q),null,{default:o(()=>[i("Editar Suscripción #"+r(d.suscripcion.id),1)]),_:1}),a(t(D),null,{default:o(()=>[i(" Cliente: "+r(d.suscripcion.usuario?.name)+" - Paquete: "+r(d.suscripcion.paquete?.nombre),1)]),_:1})]),_:1}),a(t(A),null,{default:o(()=>[e("form",{onSubmit:y(g,["prevent"]),class:"space-y-6"},[e("div",P,[s[8]||(s[8]=e("h4",{class:"text-sm font-medium mb-3"},"Información de la Suscripción",-1)),e("div",U,[e("div",null,[s[4]||(s[4]=e("span",{class:"text-muted-foreground"},"Cliente:",-1)),e("span",H,r(d.suscripcion.usuario?.name),1)]),e("div",null,[s[5]||(s[5]=e("span",{class:"text-muted-foreground"},"Paquete:",-1)),e("span",O,r(d.suscripcion.paquete?.nombre),1)]),e("div",null,[s[6]||(s[6]=e("span",{class:"text-muted-foreground"},"Inicio:",-1)),e("span",R,r(new Date(d.suscripcion.fecha_inicio).toLocaleDateString("es-ES")),1)]),e("div",null,[s[7]||(s[7]=e("span",{class:"text-muted-foreground"},"Fin:",-1)),e("span",T,r(new Date(d.suscripcion.fecha_fin).toLocaleDateString("es-ES")),1)])])]),e("div",J,[a(t(x),{for:"estado"},{default:o(()=>[...s[9]||(s[9]=[i("Estado *",-1)])]),_:1}),a(t(z),{modelValue:t(n).estado,"onUpdate:modelValue":s[0]||(s[0]=c=>t(n).estado=c),required:""},{default:o(()=>[a(t(F),{id:"estado"},{default:o(()=>[a(t(L),{placeholder:"Selecciona un estado"})]),_:1}),a(t(N),null,{default:o(()=>[a(t(l),{value:"activo"},{default:o(()=>[...s[10]||(s[10]=[i("Activo",-1)])]),_:1}),a(t(l),{value:"inactivo"},{default:o(()=>[...s[11]||(s[11]=[i("Inactivo",-1)])]),_:1}),a(t(l),{value:"suspendido"},{default:o(()=>[...s[12]||(s[12]=[i("Suspendido",-1)])]),_:1}),a(t(l),{value:"vencida"},{default:o(()=>[...s[13]||(s[13]=[i("Vencida",-1)])]),_:1}),a(t(l),{value:"cancelada"},{default:o(()=>[...s[14]||(s[14]=[i("Cancelada",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(n).errors.estado?(f(),m("span",K,r(t(n).errors.estado),1)):v("",!0),t(n).estado==="cancelada"?(f(),m("p",Q," Al cancelar, todos los pagos impagos se marcarán como cancelados ")):v("",!0)]),e("div",W,[S(e("input",{id:"renovacion_automatica",type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=c=>t(n).renovacion_automatica=c),class:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"},null,512),[[w,t(n).renovacion_automatica]]),a(t(x),{for:"renovacion_automatica",class:"cursor-pointer"},{default:o(()=>[...s[15]||(s[15]=[i(" Renovación automática ",-1)])]),_:1})]),e("div",X,[a(t(p),{type:"button",variant:"outline","as-child":""},{default:o(()=>[a(t(_),{href:"/suscripciones"},{default:o(()=>[...s[16]||(s[16]=[i("Cancelar",-1)])]),_:1})]),_:1}),a(t(p),{type:"submit",disabled:t(n).processing},{default:o(()=>[i(r(t(n).processing?"Guardando...":"Guardar Cambios"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])])]),_:1})],64))}};export{_s as default};
