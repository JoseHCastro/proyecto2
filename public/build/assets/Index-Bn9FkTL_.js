import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOBbFAJ5.js";import{r as H,y as B,x as y,b as d,d as t,e,h as j,w as s,f as l,m as k,v as f,j as n,k as o,F as m,z as v,i as w,t as b,n as N}from"./app-B76GnUuc.js";import{_}from"./AppFooter-Djt3kvbI.js";import{_ as S}from"./Input.vue_vue_type_script_setup_true_lang-4tY1EX5u.js";import{_ as z,a as A,b as $,c as h,d as L,e as x}from"./TableCell.vue_vue_type_script_setup_true_lang-CsIRDqG5.js";import{_ as M}from"./index-3Yyb0CO2.js";import{c as P,e as F,s as D}from"./useSweetAlert-DaBq0Crb.js";import{P as G}from"./plus-C_M2MVko.js";import{C as E}from"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DeNPTS8a.js";import{E as I}from"./eye-DIvQp8I_.js";import{P as O}from"./pencil-ZagNO97l.js";import{T as J}from"./trash-2-DjIDnDMR.js";import"./useForwardExpose-CHeYsA2k.js";import"./RovingFocusGroup-CuUPH1Jk.js";import"./VisuallyHidden-DYrpyQUo.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const U={class:"py-12"},q={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},K={class:"overflow-hidden bg-background shadow-sm sm:rounded-lg border border-border"},Q={class:"p-6 text-foreground"},R={class:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4"},W={class:"flex gap-4 w-full md:w-auto"},X={key:0,class:"rounded-md border"},Y={class:"flex gap-1 flex-wrap"},Z={class:"flex items-center gap-2"},ee={class:"flex items-center gap-2"},te={class:"flex justify-end gap-2"},se={key:1,class:"mt-4 flex justify-center"},ae={class:"flex gap-1"},be={__name:"Index",props:{horarios:Object,filters:Object},setup(i){const p=H(i.filters?.search||"");let g=null;B(p,u=>{g&&clearTimeout(g),g=setTimeout(()=>{const a={};u&&(a.search=u),y.get("/horarios",a,{replace:!0,preserveScroll:!0})},300)});const T={1:"Lun",2:"Mar",3:"Mié",4:"Jue",5:"Vie",6:"Sáb"},C=async u=>{(await P({title:"¿Eliminar horario?",text:"Esta acción no se puede deshacer",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&y.delete(`/horarios/${u}`,{onSuccess:()=>{D({title:"¡Eliminado!",text:"El horario ha sido eliminado correctamente"})},onError:()=>{F({title:"Error",text:"No se pudo eliminar el horario"})}})};return(u,a)=>(o(),d(m,null,[t(e(j),{title:"Gestión de Horarios"}),t(V,null,{header:s(()=>[...a[1]||(a[1]=[l("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Gestión de Horarios ",-1)])]),default:s(()=>[l("div",U,[l("div",q,[l("div",K,[l("div",Q,[l("div",R,[l("div",W,[t(e(S),{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=r=>p.value=r),placeholder:"Buscar por hora...",class:"w-full md:w-64"},null,8,["modelValue"])]),t(e(_),{"as-child":""},{default:s(()=>[t(e(f),{href:"/horarios/create"},{default:s(()=>[t(e(G),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=n(" Nuevo Horario ",-1))]),_:1})]),_:1})]),i.horarios&&i.horarios.data?(o(),d("div",X,[t(e(z),null,{default:s(()=>[t(e(A),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(h),null,{default:s(()=>[...a[3]||(a[3]=[n("Días",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[4]||(a[4]=[n("Hora Inicio",-1)])]),_:1}),t(e(h),null,{default:s(()=>[...a[5]||(a[5]=[n("Hora Fin",-1)])]),_:1}),t(e(h),{class:"text-right"},{default:s(()=>[...a[6]||(a[6]=[n("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(L),null,{default:s(()=>[(o(!0),d(m,null,v(i.horarios.data,r=>(o(),w(e($),{key:r.id},{default:s(()=>[t(e(x),{class:"font-medium"},{default:s(()=>[l("div",Y,[(o(!0),d(m,null,v(r.dia_semana,c=>(o(),w(e(M),{variant:"outline",key:c},{default:s(()=>[n(b(T[c]),1)]),_:2},1024))),128))])]),_:2},1024),t(e(x),null,{default:s(()=>[l("div",Z,[t(e(E),{class:"h-4 w-4 text-muted-foreground"}),n(" "+b(r.hora_inicio.substring(0,5)),1)])]),_:2},1024),t(e(x),null,{default:s(()=>[l("div",ee,[t(e(E),{class:"h-4 w-4 text-muted-foreground"}),n(" "+b(r.hora_fin.substring(0,5)),1)])]),_:2},1024),t(e(x),{class:"text-right"},{default:s(()=>[l("div",te,[t(e(_),{variant:"outline",size:"sm","as-child":"",title:"Ver"},{default:s(()=>[t(e(f),{href:`/horarios/${r.id}`},{default:s(()=>[t(e(I),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(_),{variant:"outline",size:"sm","as-child":"",title:"Editar"},{default:s(()=>[t(e(f),{href:`/horarios/${r.id}/edit`},{default:s(()=>[t(e(O),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(_),{variant:"destructive",size:"sm",onClick:c=>C(r.id),title:"Eliminar"},{default:s(()=>[t(e(J),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])):k("",!0),i.horarios&&i.horarios.links&&i.horarios.links.length>3?(o(),d("div",se,[l("div",ae,[(o(!0),d(m,null,v(i.horarios.links,(r,c)=>(o(),w(e(f),{key:c,href:r.url||"#",innerHTML:r.label,class:N(["px-3 py-1 border rounded text-sm",{"bg-primary text-primary-foreground":r.active,"opacity-50 cursor-not-allowed":!r.url}])},null,8,["href","innerHTML","class"]))),128))])])):k("",!0)])])])])]),_:1})],64))}};export{be as default};
