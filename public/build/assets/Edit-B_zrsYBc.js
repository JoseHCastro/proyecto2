import{u as E,b as n,d as s,e,h as j,w as i,f as o,p as B,m as p,j as l,k as d,F as f,z as v,i as x,t as u,v as N,x as C}from"./app-CYSvmcR8.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-R4kQx9DT.js";import{_ as k}from"./AppFooter-DaHgPrIF.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-C5ivKHaI.js";import{_ as b,a as y,b as g,c as V,d as $}from"./SelectItem.vue_vue_type_script_setup_true_lang-P3441g65.js";import{e as H,s as L}from"./useSweetAlert-DaBq0Crb.js";import"./useForwardExpose-C04IyDGt.js";import"./RovingFocusGroup-CF_7D-JK.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-RQb2PAcX.js";import"./VisuallyHidden-BhR3rBEy.js";import"./check-Cq5oJblT.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const M={class:"py-12"},U={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},D={class:"overflow-hidden bg-background shadow-sm sm:rounded-lg border border-border"},I={class:"p-6 text-foreground"},J={class:"space-y-2"},O={key:0,class:"text-sm text-destructive"},T={class:"space-y-2"},q={key:0,class:"text-sm text-destructive"},G={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},P={class:"flex justify-end gap-4"},oe={__name:"Edit",props:{sesion:Object,disciplinas:Array,horarios:Array,instructores:Array},setup(c){const _=c,r=E({disciplina_id:_.sesion.disciplina_id,horario_id:_.sesion.horario_id,instructor_id:_.sesion.instructor_id}),S=()=>{r.put(`/sesiones/${_.sesion.id}`,{onSuccess:()=>{L({title:"¡Sesión actualizada!",text:"La sesión ha sido actualizada correctamente"}).then(()=>{C.visit("/sesiones")})},onError:()=>{H({title:"Error al actualizar",text:"Hubo un problema al actualizar la sesión"})}})},z={1:"Lun",2:"Mar",3:"Mié",4:"Jue",5:"Vie",6:"Sáb"},A=m=>{const a=m.dia_semana.map(w=>z[w]).join(", "),t=`${m.hora_inicio.substring(0,5)} - ${m.hora_fin.substring(0,5)}`;return`${a} | ${t}`};return(m,a)=>(d(),n(f,null,[s(e(j),{title:"Editar Sesión"}),s(F,null,{header:i(()=>[...a[3]||(a[3]=[o("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Editar Sesión ",-1)])]),default:i(()=>[o("div",M,[o("div",U,[o("div",D,[o("div",I,[o("form",{onSubmit:B(S,["prevent"]),class:"space-y-6"},[o("div",J,[s(e(h),{for:"disciplina_id"},{default:i(()=>[...a[4]||(a[4]=[l("Disciplina *",-1)])]),_:1}),s(e(b),{modelValue:e(r).disciplina_id,"onUpdate:modelValue":a[0]||(a[0]=t=>e(r).disciplina_id=t)},{default:i(()=>[s(e(y),{id:"disciplina_id"},{default:i(()=>[s(e(g),{placeholder:"Selecciona una disciplina"})]),_:1}),s(e(V),null,{default:i(()=>[(d(!0),n(f,null,v(c.disciplinas,t=>(d(),x(e($),{key:t.id,value:t.id},{default:i(()=>[l(u(t.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.disciplina_id?(d(),n("div",O,u(e(r).errors.disciplina_id),1)):p("",!0)]),o("div",T,[s(e(h),{for:"horario_id"},{default:i(()=>[...a[5]||(a[5]=[l("Horario *",-1)])]),_:1}),s(e(b),{modelValue:e(r).horario_id,"onUpdate:modelValue":a[1]||(a[1]=t=>e(r).horario_id=t)},{default:i(()=>[s(e(y),{id:"horario_id"},{default:i(()=>[s(e(g),{placeholder:"Selecciona un horario"})]),_:1}),s(e(V),null,{default:i(()=>[(d(!0),n(f,null,v(c.horarios,t=>(d(),x(e($),{key:t.id,value:t.id},{default:i(()=>[l(u(A(t)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.horario_id?(d(),n("div",q,u(e(r).errors.horario_id),1)):p("",!0)]),o("div",G,[s(e(h),{for:"instructor_id"},{default:i(()=>[...a[6]||(a[6]=[l("Instructor *",-1)])]),_:1}),s(e(b),{modelValue:e(r).instructor_id,"onUpdate:modelValue":a[2]||(a[2]=t=>e(r).instructor_id=t)},{default:i(()=>[s(e(y),{id:"instructor_id"},{default:i(()=>[s(e(g),{placeholder:"Selecciona un instructor"})]),_:1}),s(e(V),null,{default:i(()=>[(d(!0),n(f,null,v(c.instructores,t=>(d(),x(e($),{key:t.id,value:t.id},{default:i(()=>[l(u(t.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.instructor_id?(d(),n("div",K,u(e(r).errors.instructor_id),1)):p("",!0)]),o("div",P,[s(e(k),{type:"button",variant:"outline","as-child":""},{default:i(()=>[s(e(N),{href:"/sesiones"},{default:i(()=>[...a[7]||(a[7]=[l(" Cancelar ",-1)])]),_:1})]),_:1}),s(e(k),{type:"submit",disabled:e(r).processing},{default:i(()=>[l(u(e(r).processing?"Actualizando...":"Actualizar"),1)]),_:1},8,["disabled"])])],32)])])])])]),_:1})],64))}};export{oe as default};
