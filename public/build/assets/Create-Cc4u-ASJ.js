import{u as S,r as w,b as m,d as o,e,h as N,w as t,f as i,v as $,j as l,p as A,m as p,n as f,k as n,t as u,F as b,z as h,i as P}from"./app-tXC2pLZf.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-BHJDPCZ8.js";import{_ as x}from"./AppFooter-TW4fO1XT.js";import{_ as g}from"./Input.vue_vue_type_script_setup_true_lang-DRUFobxk.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-B_HSfrJG.js";import{_ as E}from"./Textarea.vue_vue_type_script_setup_true_lang-BgQ4uT9-.js";import{_ as U,a as z,b as D}from"./CardHeader.vue_vue_type_script_setup_true_lang-DkfxRezm.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-CIi_TT5h.js";import{_ as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-B_mxAcVg.js";import{_ as M,a as j,b as H,c as J,d as O}from"./SelectItem.vue_vue_type_script_setup_true_lang-DhfW_bte.js";import{e as T,s as X}from"./useSweetAlert-DaBq0Crb.js";import{A as G}from"./arrow-left-C1IfUB_V.js";import"./useForwardExpose-Bfd518nw.js";import"./RovingFocusGroup-BNHTgRLt.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DAe2Mvpc.js";import"./VisuallyHidden-BH3P4Ghq.js";import"./check-B_vWNd7n.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const K={class:"py-12"},Q={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},R={class:"mb-4"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={class:"space-y-2"},Z={key:0,class:"text-sm text-red-500"},I={class:"space-y-2"},ee={key:0,class:"text-sm text-red-500"},se={class:"space-y-2"},re={key:0,class:"text-sm text-red-500"},oe={class:"space-y-2"},te={key:0,class:"text-sm text-red-500"},ae={class:"space-y-2"},ie={class:"border rounded-md p-4 max-h-64 overflow-y-auto space-y-2"},le=["id","checked","onChange"],de=["for"],ne={key:0,class:"text-sm text-red-500"},me={class:"flex gap-4"},Ne={__name:"Create",props:{membresias:Array,sesiones:Array},setup(v){const r=S({nombre:"",descripcion:"",precio:"",membresia_id:null,sesiones:[]}),c=w([]),V=d=>c.value.includes(d),k=d=>{const s=c.value.indexOf(d);s>-1?c.value.splice(s,1):c.value.push(d)},C=d=>{const s={1:"L",2:"M",3:"X",4:"J",5:"V",6:"S"},a=d.horario.dia_semana.map(y=>s[y]).join(",");return`${d.disciplina.nombre} - ${d.horario.hora_inicio.substring(0,5)}-${d.horario.hora_fin.substring(0,5)} (${a})`},q=()=>{r.sesiones=c.value,r.post("/paquetes",{onSuccess:()=>{X({title:"¡Creado!",text:"El paquete ha sido creado correctamente"})},onError:()=>{T({title:"Error",text:"Hubo un problema al crear el paquete"})}})};return(d,s)=>(n(),m(b,null,[o(e(N),{title:"Crear Paquete"}),o(B,null,{header:t(()=>[...s[4]||(s[4]=[i("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Crear Paquete ",-1)])]),default:t(()=>[i("div",K,[i("div",Q,[i("div",R,[o(e(x),{variant:"ghost",size:"sm","as-child":""},{default:t(()=>[o(e($),{href:"/paquetes"},{default:t(()=>[o(e(G),{class:"h-4 w-4 mr-2"}),s[5]||(s[5]=l(" Volver ",-1))]),_:1})]),_:1})]),o(e(U),null,{default:t(()=>[o(e(z),null,{default:t(()=>[o(e(L),null,{default:t(()=>[...s[6]||(s[6]=[l("Nuevo Paquete",-1)])]),_:1}),o(e(F),null,{default:t(()=>[...s[7]||(s[7]=[l("Completa el formulario para crear un paquete",-1)])]),_:1})]),_:1}),o(e(D),null,{default:t(()=>[i("form",{onSubmit:A(q,["prevent"]),class:"space-y-6"},[i("div",W,[i("div",Y,[o(e(_),{for:"nombre"},{default:t(()=>[...s[8]||(s[8]=[l("Nombre *",-1)])]),_:1}),o(e(g),{id:"nombre",modelValue:e(r).nombre,"onUpdate:modelValue":s[0]||(s[0]=a=>e(r).nombre=a),type:"text",placeholder:"Nombre del paquete",class:f({"border-red-500":e(r).errors.nombre})},null,8,["modelValue","class"]),e(r).errors.nombre?(n(),m("p",Z,u(e(r).errors.nombre),1)):p("",!0)]),i("div",I,[o(e(_),{for:"precio"},{default:t(()=>[...s[9]||(s[9]=[l("Precio *",-1)])]),_:1}),o(e(g),{id:"precio",modelValue:e(r).precio,"onUpdate:modelValue":s[1]||(s[1]=a=>e(r).precio=a),type:"number",step:"0.01",min:"0.01",placeholder:"0.00",class:f({"border-red-500":e(r).errors.precio})},null,8,["modelValue","class"]),e(r).errors.precio?(n(),m("p",ee,u(e(r).errors.precio),1)):p("",!0)])]),i("div",se,[o(e(_),{for:"membresia_id"},{default:t(()=>[...s[10]||(s[10]=[l("Membresía *",-1)])]),_:1}),o(e(M),{modelValue:e(r).membresia_id,"onUpdate:modelValue":s[2]||(s[2]=a=>e(r).membresia_id=a)},{default:t(()=>[o(e(j),{class:f({"border-red-500":e(r).errors.membresia_id})},{default:t(()=>[o(e(H),{placeholder:"Selecciona una membresía"})]),_:1},8,["class"]),o(e(J),null,{default:t(()=>[(n(!0),m(b,null,h(v.membresias,a=>(n(),P(e(O),{key:a.id,value:a.id},{default:t(()=>[l(u(a.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(r).errors.membresia_id?(n(),m("p",re,u(e(r).errors.membresia_id),1)):p("",!0)]),i("div",oe,[o(e(_),{for:"descripcion"},{default:t(()=>[...s[11]||(s[11]=[l("Descripción",-1)])]),_:1}),o(e(E),{id:"descripcion",modelValue:e(r).descripcion,"onUpdate:modelValue":s[3]||(s[3]=a=>e(r).descripcion=a),placeholder:"Descripción del paquete",rows:"3",class:f({"border-red-500":e(r).errors.descripcion})},null,8,["modelValue","class"]),e(r).errors.descripcion?(n(),m("p",te,u(e(r).errors.descripcion),1)):p("",!0)]),i("div",ae,[o(e(_),null,{default:t(()=>[...s[12]||(s[12]=[l("Sesiones * (Selecciona al menos una)",-1)])]),_:1}),i("div",ie,[(n(!0),m(b,null,h(v.sesiones,a=>(n(),m("div",{key:a.id,class:"flex items-start space-x-2"},[i("input",{type:"checkbox",id:`sesion-${a.id}`,checked:V(a.id),onChange:y=>k(a.id),class:"mt-1 h-4 w-4 rounded border-gray-300"},null,40,le),i("label",{for:`sesion-${a.id}`,class:"text-sm cursor-pointer flex-1"},u(C(a)),9,de)]))),128))]),e(r).errors.sesiones?(n(),m("p",ne,u(e(r).errors.sesiones),1)):p("",!0)]),i("div",me,[o(e(x),{type:"submit",disabled:e(r).processing},{default:t(()=>[...s[13]||(s[13]=[l(" Crear Paquete ",-1)])]),_:1},8,["disabled"]),o(e(x),{type:"button",variant:"outline","as-child":""},{default:t(()=>[o(e($),{href:"/paquetes"},{default:t(()=>[...s[14]||(s[14]=[l(" Cancelar ",-1)])]),_:1})]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64))}};export{Ne as default};
