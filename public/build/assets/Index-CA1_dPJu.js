import{_ as S}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOBbFAJ5.js";import{r as j,y as E,x as y,b as c,d as t,e,h as B,w as s,f as i,m as $,v as _,j as r,i as h,k as u,F as g,z as b,t as f,n as C}from"./app-B76GnUuc.js";import{l as T,S as V}from"./lodash-Cu5C_8jN.js";import{_ as p}from"./AppFooter-Djt3kvbI.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-4tY1EX5u.js";import{_ as z,a as L,b as v,c as d,d as R,e as n}from"./TableCell.vue_vue_type_script_setup_true_lang-CsIRDqG5.js";import{c as P,s as A}from"./useSweetAlert-DaBq0Crb.js";import{P as D}from"./plus-C_M2MVko.js";import{E as F}from"./eye-DIvQp8I_.js";import{P as H}from"./pencil-ZagNO97l.js";import{T as I}from"./trash-2-DjIDnDMR.js";import"./useForwardExpose-CHeYsA2k.js";import"./RovingFocusGroup-CuUPH1Jk.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DeNPTS8a.js";import"./VisuallyHidden-DYrpyQUo.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const M={class:"py-12"},O={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},G={class:"overflow-hidden bg-card shadow-sm sm:rounded-lg"},U={class:"p-6"},q={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},J={class:"relative w-full sm:w-64"},K={class:"overflow-x-auto"},Q={class:"flex justify-end gap-2"},W={key:0,class:"mt-4 flex justify-center"},X={class:"flex gap-1"},pe={__name:"Index",props:{rutinas:Object,filters:Object},setup(o){const x=j(o.filters?.search||"");E(x,T.debounce(m=>{y.get("/rutinas",{search:m},{preserveState:!0})},300));const k=async(m,a)=>{(await P({title:"¿Eliminar rutina?",text:`Se eliminará la rutina "${a}"`,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&y.delete(`/rutinas/${m}`,{onSuccess:()=>{A({title:"¡Eliminado!",text:"La rutina ha sido eliminada correctamente"})}})};return(m,a)=>(u(),c(g,null,[t(e(B),{title:"Rutinas"}),t(S,null,{header:s(()=>[...a[1]||(a[1]=[i("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Gestionar Rutinas ",-1)])]),default:s(()=>[i("div",M,[i("div",O,[i("div",G,[i("div",U,[i("div",q,[i("div",J,[t(e(V),{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t(e(N),{modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=l=>x.value=l),placeholder:"Buscar rutinas...",class:"pl-8"},null,8,["modelValue"])]),t(e(p),{"as-child":""},{default:s(()=>[t(e(_),{href:"/rutinas/create"},{default:s(()=>[t(e(D),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=r(" Nueva Rutina ",-1))]),_:1})]),_:1})]),i("div",K,[t(e(z),null,{default:s(()=>[t(e(L),null,{default:s(()=>[t(e(v),null,{default:s(()=>[t(e(d),null,{default:s(()=>[...a[3]||(a[3]=[r("Ejercicio",-1)])]),_:1}),t(e(d),null,{default:s(()=>[...a[4]||(a[4]=[r("Socio",-1)])]),_:1}),t(e(d),null,{default:s(()=>[...a[5]||(a[5]=[r("Instructor",-1)])]),_:1}),t(e(d),null,{default:s(()=>[...a[6]||(a[6]=[r("Series",-1)])]),_:1}),t(e(d),null,{default:s(()=>[...a[7]||(a[7]=[r("Repeticiones",-1)])]),_:1}),t(e(d),null,{default:s(()=>[...a[8]||(a[8]=[r("Fecha",-1)])]),_:1}),t(e(d),{class:"text-right"},{default:s(()=>[...a[9]||(a[9]=[r("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(R),null,{default:s(()=>[o.rutinas.data.length===0?(u(),h(e(v),{key:0},{default:s(()=>[t(e(n),{colspan:"7",class:"text-center"},{default:s(()=>[...a[10]||(a[10]=[r(" No hay rutinas registradas ",-1)])]),_:1})]),_:1})):$("",!0),(u(!0),c(g,null,b(o.rutinas.data,l=>(u(),h(e(v),{key:l.id},{default:s(()=>[t(e(n),{class:"font-medium"},{default:s(()=>[r(f(l.ejercicio),1)]),_:2},1024),t(e(n),null,{default:s(()=>[r(f(l.socio.name),1)]),_:2},1024),t(e(n),null,{default:s(()=>[r(f(l.instructor.name),1)]),_:2},1024),t(e(n),null,{default:s(()=>[r(f(l.series),1)]),_:2},1024),t(e(n),null,{default:s(()=>[r(f(l.repeticiones),1)]),_:2},1024),t(e(n),null,{default:s(()=>[r(f(new Date(l.creada_en).toLocaleDateString("es-ES")),1)]),_:2},1024),t(e(n),{class:"text-right"},{default:s(()=>[i("div",Q,[t(e(p),{variant:"ghost",size:"icon","as-child":""},{default:s(()=>[t(e(_),{href:`/rutinas/${l.id}`},{default:s(()=>[t(e(F),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(p),{variant:"ghost",size:"icon","as-child":""},{default:s(()=>[t(e(_),{href:`/rutinas/${l.id}/edit`},{default:s(()=>[t(e(H),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(p),{variant:"ghost",size:"icon",onClick:w=>k(l.id,l.ejercicio)},{default:s(()=>[t(e(I),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),o.rutinas&&o.rutinas.links&&o.rutinas.links.length>3?(u(),c("div",W,[i("div",X,[(u(!0),c(g,null,b(o.rutinas.links,(l,w)=>(u(),h(e(_),{key:w,href:l.url||"#",innerHTML:l.label,class:C(["px-3 py-1 border rounded text-sm",{"bg-primary text-primary-foreground":l.active,"opacity-50 cursor-not-allowed":!l.url}])},null,8,["href","innerHTML","class"]))),128))])])):$("",!0)])])])])]),_:1})],64))}};export{pe as default};
