import{_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-BOBbFAJ5.js";import{r as B,y as E,x as k,b as c,d as t,e,h as N,w as s,f as o,m as b,v as x,j as r,i as _,k as i,F as h,z as y,t as u,n as S}from"./app-B76GnUuc.js";import{l as C,S as T}from"./lodash-Cu5C_8jN.js";import{_ as v}from"./AppFooter-Djt3kvbI.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-4tY1EX5u.js";import{_ as w}from"./index-3Yyb0CO2.js";import{_ as j,a as z,b as $,c as f,d as A,e as d}from"./TableCell.vue_vue_type_script_setup_true_lang-CsIRDqG5.js";import{c as F,s as L}from"./useSweetAlert-DaBq0Crb.js";import{P as M}from"./plus-C_M2MVko.js";import{E as H}from"./eye-DIvQp8I_.js";import{P as I}from"./pencil-ZagNO97l.js";import{T as O}from"./trash-2-DjIDnDMR.js";import"./useForwardExpose-CHeYsA2k.js";import"./RovingFocusGroup-CuUPH1Jk.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DeNPTS8a.js";import"./VisuallyHidden-DYrpyQUo.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const D={class:"py-12"},G={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},U={class:"overflow-hidden bg-card shadow-sm sm:rounded-lg"},J={class:"p-6"},K={class:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Q={class:"relative w-full sm:w-64"},R={class:"overflow-x-auto"},W={class:"flex gap-1 flex-wrap max-w-xs"},X={class:"flex justify-end gap-2"},Y={key:0,class:"mt-4 flex justify-center"},Z={class:"flex gap-1"},ve={__name:"Index",props:{paquetes:Object,filters:Object},setup(n){const g=B(n.filters?.search||"");E(g,C.debounce(p=>{k.get("/paquetes",{search:p},{preserveState:!0})},300));const q=async(p,a)=>{(await F({title:"¿Eliminar paquete?",text:`Se eliminará el paquete "${a}"`,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"})).isConfirmed&&k.delete(`/paquetes/${p}`,{onSuccess:()=>{L({title:"¡Eliminado!",text:"El paquete ha sido eliminado correctamente"})}})};return(p,a)=>(i(),c(h,null,[t(e(N),{title:"Paquetes"}),t(P,null,{header:s(()=>[...a[1]||(a[1]=[o("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Gestionar Paquetes ",-1)])]),default:s(()=>[o("div",D,[o("div",G,[o("div",U,[o("div",J,[o("div",K,[o("div",Q,[t(e(T),{class:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t(e(V),{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=l=>g.value=l),placeholder:"Buscar paquetes...",class:"pl-8"},null,8,["modelValue"])]),t(e(v),{"as-child":""},{default:s(()=>[t(e(x),{href:"/paquetes/create"},{default:s(()=>[t(e(M),{class:"mr-2 h-4 w-4"}),a[2]||(a[2]=r(" Nuevo Paquete ",-1))]),_:1})]),_:1})]),o("div",R,[t(e(j),null,{default:s(()=>[t(e(z),null,{default:s(()=>[t(e($),null,{default:s(()=>[t(e(f),null,{default:s(()=>[...a[3]||(a[3]=[r("Nombre",-1)])]),_:1}),t(e(f),null,{default:s(()=>[...a[4]||(a[4]=[r("Membresía",-1)])]),_:1}),t(e(f),null,{default:s(()=>[...a[5]||(a[5]=[r("Sesiones",-1)])]),_:1}),t(e(f),null,{default:s(()=>[...a[6]||(a[6]=[r("Precio",-1)])]),_:1}),t(e(f),null,{default:s(()=>[...a[7]||(a[7]=[r("Estado",-1)])]),_:1}),t(e(f),{class:"text-right"},{default:s(()=>[...a[8]||(a[8]=[r("Acciones",-1)])]),_:1})]),_:1})]),_:1}),t(e(A),null,{default:s(()=>[n.paquetes.data.length===0?(i(),_(e($),{key:0},{default:s(()=>[t(e(d),{colspan:"6",class:"text-center"},{default:s(()=>[...a[9]||(a[9]=[r(" No hay paquetes registrados ",-1)])]),_:1})]),_:1})):b("",!0),(i(!0),c(h,null,y(n.paquetes.data,l=>(i(),_(e($),{key:l.id},{default:s(()=>[t(e(d),{class:"font-medium"},{default:s(()=>[r(u(l.nombre),1)]),_:2},1024),t(e(d),null,{default:s(()=>[r(u(l.membresia.nombre),1)]),_:2},1024),t(e(d),null,{default:s(()=>[o("div",W,[(i(!0),c(h,null,y(l.sesiones.slice(0,3),m=>(i(),_(e(w),{key:m.id,variant:"secondary",class:"text-xs"},{default:s(()=>[r(u(m.disciplina.nombre),1)]),_:2},1024))),128)),l.sesiones.length>3?(i(),_(e(w),{key:0,variant:"outline",class:"text-xs"},{default:s(()=>[r(" +"+u(l.sesiones.length-3),1)]),_:2},1024)):b("",!0)])]),_:2},1024),t(e(d),null,{default:s(()=>[r("Bs "+u(Number(l.precio).toFixed(2)),1)]),_:2},1024),t(e(d),null,{default:s(()=>[t(e(w),{variant:l.activo?"default":"secondary"},{default:s(()=>[r(u(l.activo?"Activo":"Inactivo"),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(d),{class:"text-right"},{default:s(()=>[o("div",X,[t(e(v),{variant:"ghost",size:"icon","as-child":""},{default:s(()=>[t(e(x),{href:`/paquetes/${l.id}`},{default:s(()=>[t(e(H),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(v),{variant:"ghost",size:"icon","as-child":""},{default:s(()=>[t(e(x),{href:`/paquetes/${l.id}/edit`},{default:s(()=>[t(e(I),{class:"h-4 w-4"})]),_:1},8,["href"])]),_:2},1024),t(e(v),{variant:"ghost",size:"icon",onClick:m=>q(l.id,l.nombre)},{default:s(()=>[t(e(O),{class:"h-4 w-4"})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),n.paquetes&&n.paquetes.links&&n.paquetes.links.length>3?(i(),c("div",Y,[o("div",Z,[(i(!0),c(h,null,y(n.paquetes.links,(l,m)=>(i(),_(e(x),{key:m,href:l.url||"#",innerHTML:l.label,class:S(["px-3 py-1 border rounded text-sm",{"bg-primary text-primary-foreground":l.active,"opacity-50 cursor-not-allowed":!l.url}])},null,8,["href","innerHTML","class"]))),128))])])):b("",!0)])])])])]),_:1})],64))}};export{ve as default};
