import{u as A,b as n,d as s,e,h as N,w as t,f as o,p as B,m as f,j as l,k as d,F as c,z as p,i as v,t as u,v as j,x as E}from"./app-tXC2pLZf.js";import{_ as F}from"./AppLayout.vue_vue_type_script_setup_true_lang-BHJDPCZ8.js";import{_ as k}from"./AppFooter-TW4fO1XT.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-B_HSfrJG.js";import{_ as h,a as b,b as y,c as g,d as V}from"./SelectItem.vue_vue_type_script_setup_true_lang-DhfW_bte.js";import{e as L,s as M}from"./useSweetAlert-DaBq0Crb.js";import"./useForwardExpose-Bfd518nw.js";import"./RovingFocusGroup-BNHTgRLt.js";import"./ThemeSwitcher.vue_vue_type_script_setup_true_lang-DAe2Mvpc.js";import"./VisuallyHidden-BH3P4Ghq.js";import"./check-B_vWNd7n.js";import"./sweetalert2.esm.all-NNS-RXd7.js";const U={class:"py-12"},D={class:"mx-auto max-w-7xl sm:px-6 lg:px-8"},H={class:"overflow-hidden bg-background shadow-sm sm:rounded-lg border border-border"},z={class:"p-6 text-foreground"},G={class:"space-y-2"},I={key:0,class:"text-sm text-destructive"},J={class:"space-y-2"},T={key:0,class:"text-sm text-destructive"},q={class:"space-y-2"},K={key:0,class:"text-sm text-destructive"},O={class:"flex justify-end gap-4"},ae={__name:"Create",props:{disciplinas:Array,horarios:Array,instructores:Array},setup(m){const a=A({disciplina_id:null,horario_id:null,instructor_id:null}),S=()=>{a.post("/sesiones",{onSuccess:()=>{M({title:"¡Sesión creada!",text:"La sesión ha sido creada correctamente"}).then(()=>{E.visit("/sesiones")})},onError:()=>{L({title:"Error",text:"No se pudo crear la sesión. Verifica los datos ingresados."})}})},$={1:"Lun",2:"Mar",3:"Mié",4:"Jue",5:"Vie",6:"Sáb"},C=_=>{const r=_.dia_semana.map(w=>$[w]).join(", "),i=`${_.hora_inicio.substring(0,5)} - ${_.hora_fin.substring(0,5)}`;return`${r} | ${i}`};return(_,r)=>(d(),n(c,null,[s(e(N),{title:"Crear Sesión"}),s(F,null,{header:t(()=>[...r[3]||(r[3]=[o("h2",{class:"text-xl font-semibold leading-tight text-foreground"}," Crear Sesión ",-1)])]),default:t(()=>[o("div",U,[o("div",D,[o("div",H,[o("div",z,[o("form",{onSubmit:B(S,["prevent"]),class:"space-y-6"},[o("div",G,[s(e(x),{for:"disciplina_id"},{default:t(()=>[...r[4]||(r[4]=[l("Disciplina *",-1)])]),_:1}),s(e(h),{modelValue:e(a).disciplina_id,"onUpdate:modelValue":r[0]||(r[0]=i=>e(a).disciplina_id=i)},{default:t(()=>[s(e(b),{id:"disciplina_id"},{default:t(()=>[s(e(y),{placeholder:"Selecciona una disciplina"})]),_:1}),s(e(g),null,{default:t(()=>[(d(!0),n(c,null,p(m.disciplinas,i=>(d(),v(e(V),{key:i.id,value:i.id},{default:t(()=>[l(u(i.nombre),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.disciplina_id?(d(),n("div",I,u(e(a).errors.disciplina_id),1)):f("",!0)]),o("div",J,[s(e(x),{for:"horario_id"},{default:t(()=>[...r[5]||(r[5]=[l("Horario *",-1)])]),_:1}),s(e(h),{modelValue:e(a).horario_id,"onUpdate:modelValue":r[1]||(r[1]=i=>e(a).horario_id=i)},{default:t(()=>[s(e(b),{id:"horario_id"},{default:t(()=>[s(e(y),{placeholder:"Selecciona un horario"})]),_:1}),s(e(g),null,{default:t(()=>[(d(!0),n(c,null,p(m.horarios,i=>(d(),v(e(V),{key:i.id,value:i.id},{default:t(()=>[l(u(C(i)),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.horario_id?(d(),n("div",T,u(e(a).errors.horario_id),1)):f("",!0)]),o("div",q,[s(e(x),{for:"instructor_id"},{default:t(()=>[...r[6]||(r[6]=[l("Instructor *",-1)])]),_:1}),s(e(h),{modelValue:e(a).instructor_id,"onUpdate:modelValue":r[2]||(r[2]=i=>e(a).instructor_id=i)},{default:t(()=>[s(e(b),{id:"instructor_id"},{default:t(()=>[s(e(y),{placeholder:"Selecciona un instructor"})]),_:1}),s(e(g),null,{default:t(()=>[(d(!0),n(c,null,p(m.instructores,i=>(d(),v(e(V),{key:i.id,value:i.id},{default:t(()=>[l(u(i.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(a).errors.instructor_id?(d(),n("div",K,u(e(a).errors.instructor_id),1)):f("",!0)]),o("div",O,[s(e(k),{type:"button",variant:"outline","as-child":""},{default:t(()=>[s(e(j),{href:"/sesiones"},{default:t(()=>[...r[7]||(r[7]=[l(" Cancelar ",-1)])]),_:1})]),_:1}),s(e(k),{type:"submit",disabled:e(a).processing},{default:t(()=>[l(u(e(a).processing?"Guardando...":"Crear Sesión"),1)]),_:1},8,["disabled"])])],32)])])])])]),_:1})],64))}};export{ae as default};
